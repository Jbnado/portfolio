---
import { t } from '../i18n/utils';

interface Props {
  locale?: string;
}

const { locale = 'pt-br' } = Astro.props;

const year = new Date().getFullYear();
---

<!-- "Se não há luta, não há progresso." — Frederick Douglass -->
<!-- "A revolução não será televisionada, mas será commitada." -->
<footer class="site-footer" style="position:relative;overflow:hidden">
  <!-- PUNK: Decorations -->
  <span class="punk-ono" style="top:8%;right:18%;font-size:1.25rem;color:#f694ff;transform:rotate(12deg);text-shadow:0 0 12px rgba(246,148,255,0.5)" aria-hidden="true">&#9733;</span>
  <span class="punk-menacing" style="bottom:12%;left:3%;font-size:0.875rem;color:rgba(162,119,255,0.12);--punk-rotate:8deg" aria-hidden="true">gogo</span>

  <div class="footer-container">
    <span class="footer-logo" aria-hidden="true">jb<span class="footer-logo-dot">.</span></span>
    <p class="footer-text">
      © {year} João Bernardo · {t('footer.builtWith', locale)} <a href="https://astro.build" target="_blank" rel="noopener noreferrer" class="footer-link">Astro</a> · <a href="https://github.com/Jbnado/portfolio-jb" target="_blank" rel="noopener noreferrer" class="footer-link" aria-label={t('footer.repoLabel', locale)}>{t('footer.openSource', locale)}</a>
    </p>
    <!-- Punk SVG icon strip (dark mode only) — original hand-drawn punk icons -->
    <div class="punk-collage-strip" aria-hidden="true">
      <!-- Lightning bolt -->
      <svg width="40" height="40" viewBox="0 0 40 40" fill="none" style="--punk-rotate:-8deg">
        <path d="M22 2L8 22h10L14 38l18-22H22L28 2h-6z" fill="#f694ff" stroke="#a277ff" stroke-width="2" stroke-linecap="round" stroke-linejoin="bevel"/>
      </svg>
      <!-- Skull -->
      <svg width="44" height="44" viewBox="0 0 44 44" fill="none" style="--punk-rotate:10deg">
        <ellipse cx="22" cy="18" rx="14" ry="16" fill="#0c0a09" stroke="#61ffca" stroke-width="2.5" stroke-linecap="square"/>
        <circle cx="16" cy="16" r="3.5" fill="#61ffca"/>
        <circle cx="28" cy="16" r="3.5" fill="#61ffca"/>
        <path d="M16 28v6M20 28v8M24 28v6M28 28v4" stroke="#61ffca" stroke-width="2" stroke-linecap="square"/>
        <path d="M18 22l4 3 4-3" stroke="#61ffca" stroke-width="1.5" fill="none"/>
      </svg>
      <!-- Safety pin -->
      <svg width="48" height="32" viewBox="0 0 48 32" fill="none" style="--punk-rotate:-12deg">
        <path d="M6 8c0-4 3-6 6-6h2l24 0c3 0 5 2 5 5s-2 5-5 5H16v8c0 3-2 6-5 6s-5-3-5-6V8z" fill="none" stroke="#82e2ff" stroke-width="2.5" stroke-linecap="round"/>
        <line x1="16" y1="12" x2="16" y2="4" stroke="#82e2ff" stroke-width="2"/>
      </svg>
      <!-- Star burst -->
      <svg width="40" height="40" viewBox="0 0 40 40" fill="none" style="--punk-rotate:6deg">
        <path d="M20 2l4 12 12-4-8 10 12 4-12 2 4 12-8-10-8 10 4-12-12-2 12-4-8-10 12 4z" fill="#a277ff" stroke="#f694ff" stroke-width="1.5" stroke-linejoin="bevel"/>
      </svg>
      <!-- Anarchy A -->
      <svg width="40" height="44" viewBox="0 0 40 44" fill="none" style="--punk-rotate:-5deg">
        <path d="M20 4L4 38h8l3-8h10l3 8h8L20 4z" fill="none" stroke="#f694ff" stroke-width="2.5" stroke-linecap="square" stroke-linejoin="bevel"/>
        <line x1="12" y1="26" x2="28" y2="26" stroke="#f694ff" stroke-width="2"/>
        <circle cx="20" cy="22" r="16" fill="none" stroke="#f694ff" stroke-width="2" stroke-dasharray="4 3"/>
      </svg>
      <!-- Guitar -->
      <svg width="36" height="48" viewBox="0 0 36 48" fill="none" style="--punk-rotate:15deg">
        <rect x="16" y="2" width="4" height="24" rx="1" fill="#61ffca"/>
        <line x1="14" y1="6" x2="22" y2="6" stroke="#61ffca" stroke-width="1.5"/>
        <line x1="14" y1="10" x2="22" y2="10" stroke="#61ffca" stroke-width="1.5"/>
        <ellipse cx="18" cy="36" rx="12" ry="10" fill="#0c0a09" stroke="#61ffca" stroke-width="2.5" stroke-linecap="square"/>
        <circle cx="18" cy="36" r="4" fill="none" stroke="#61ffca" stroke-width="1.5"/>
      </svg>
      <!-- Broken heart -->
      <svg width="42" height="40" viewBox="0 0 42 40" fill="none" style="--punk-rotate:-10deg">
        <path d="M21 36L4 20C-1 14 1 6 8 4c5-1.5 9 1 13 6 4-5 8-7.5 13-6 7 2 9 10 4 16L21 36z" fill="#0c0a09" stroke="#f694ff" stroke-width="2.5"/>
        <path d="M21 10l-3 8 6-2-4 12" stroke="#f694ff" stroke-width="2" stroke-linecap="round"/>
      </svg>
      <!-- Flame -->
      <svg width="36" height="44" viewBox="0 0 36 44" fill="none" style="--punk-rotate:8deg">
        <path d="M18 2c0 0-14 16-14 28 0 8 6 12 14 12s14-4 14-12C32 18 18 2 18 2z" fill="none" stroke="#82e2ff" stroke-width="2.5" stroke-linecap="round"/>
        <path d="M18 18c0 0-6 8-6 16 0 4 3 6 6 6s6-2 6-6c0-8-6-16-6-16z" fill="#82e2ff" opacity="0.3"/>
      </svg>
    </div>
  </div>
</footer>

<style is:global>
  .site-footer {
    padding: 2rem 0;
    border-top: 1px solid var(--color-border);
  }

  .footer-container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 0 1.5rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    text-align: center;
  }

  .footer-logo {
    font-family: var(--font-mono);
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--color-text-secondary);
  }

  .footer-logo-dot {
    color: var(--color-accent);
  }

  .footer-text {
    font-size: 0.8125rem;
    color: var(--color-text-secondary);
    line-height: 1.6;
  }

  .footer-link {
    color: var(--color-text-secondary);
    text-decoration: none;
    background-image: linear-gradient(currentColor, currentColor);
    background-position: 0% 100%;
    background-repeat: no-repeat;
    background-size: 0% 1px;
    transition:
      background-size 200ms cubic-bezier(0.25, 0.1, 0.25, 1),
      color 200ms cubic-bezier(0.25, 0.1, 0.25, 1);
  }

  .footer-link:hover {
    color: var(--color-accent);
    background-size: 100% 1px;
  }

  .footer-link:focus-visible {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
    border-radius: 2px;
  }

  /* Dark mode */
  .dark .footer-logo-dot {
    color: #a277ff;
    text-shadow: 0 0 10px rgba(162, 119, 255, 0.5);
  }
</style>
